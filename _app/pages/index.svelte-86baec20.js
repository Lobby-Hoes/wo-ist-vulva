var xe=Object.defineProperty,$e=Object.defineProperties;var et=Object.getOwnPropertyDescriptors;var ue=Object.getOwnPropertySymbols;var Me=Object.prototype.hasOwnProperty,Le=Object.prototype.propertyIsEnumerable;var ze=(l,e,t)=>e in l?xe(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,_e=(l,e)=>{for(var t in e||(e={}))Me.call(e,t)&&ze(l,t,e[t]);if(ue)for(var t of ue(e))Le.call(e,t)&&ze(l,t,e[t]);return l},Ne=(l,e)=>$e(l,et(e));var Re=(l,e)=>{var t={};for(var n in l)Me.call(l,n)&&e.indexOf(n)<0&&(t[n]=l[n]);if(l!=null&&ue)for(var n of ue(l))e.indexOf(n)<0&&Le.call(l,n)&&(t[n]=l[n]);return t};import{S as D,i as U,s as B,e as T,c as A,a as R,d as h,N as q,b as g,g as S,M as P,O as ie,E as C,v as fe,P as Fe,Q as ne,w as V,x as j,y as W,q as p,o as w,B as F,R as ee,T as tt,l as H,n as K,p as Y,t as Z,k as G,h as J,m as X,j as se,U as x,V as ae,W as me,X as de,I as nt,J as lt,K as st,L as rt,C as $,z as ke,A as Se,Y as ce,Z as Pe,f as te,_ as Oe,$ as it}from"../chunks/index-47e545cc.js";import{d as Ie,w as Ee}from"../chunks/index-a0c9171e.js";function ot(l){let e,t,n,s,r,i,o;return{c(){e=T("div"),t=T("img"),this.h()},l(a){e=A(a,"DIV",{style:!0,class:!0});var c=R(e);t=A(c,"IMG",{src:!0,style:!0,class:!0}),c.forEach(h),this.h()},h(){q(t.src,n=l[0])||g(t,"src",n),g(t,"style",s=l[5]+"; "+l[2]),g(t,"class","svelte-1d73yvl"),g(e,"style",r="width: "+l[3]+"px; height: "+l[3]+"px; "+l[1]),g(e,"class","svelte-1d73yvl")},m(a,c){S(a,e,c),P(e,t),l[13](t),i||(o=ie(e,"click",l[12]),i=!0)},p(a,[c]){c&1&&!q(t.src,n=a[0])&&g(t,"src",n),c&36&&s!==(s=a[5]+"; "+a[2])&&g(t,"style",s),c&10&&r!==(r="width: "+a[3]+"px; height: "+a[3]+"px; "+a[1])&&g(e,"style",r)},i:C,o:C,d(a){a&&h(e),l[13](null),i=!1,o()}}}function ut(l,e,t){let n,{xSlices:s=1}=e,{ySlices:r=1}=e,{src:i=""}=e,{x:o=0}=e,{y:a=0}=e,{style:c=""}=e,{innerStyle:k=""}=e,{size:m=1}=e,v,I,z;fe(()=>{if(v.width&&v.height){t(10,I=v.width),t(11,z=v.height);return}const u=()=>{t(10,I=v.width),t(11,z=v.height),v.removeEventListener("load",u)};v.addEventListener("load",u)});function L(u){Fe.call(this,l,u)}function N(u){ne[u?"unshift":"push"](()=>{v=u,t(4,v)})}return l.$$set=u=>{"xSlices"in u&&t(6,s=u.xSlices),"ySlices"in u&&t(7,r=u.ySlices),"src"in u&&t(0,i=u.src),"x"in u&&t(8,o=u.x),"y"in u&&t(9,a=u.y),"style"in u&&t(1,c=u.style),"innerStyle"in u&&t(2,k=u.innerStyle),"size"in u&&t(3,m=u.size)},l.$$.update=()=>{var u;l.$$.dirty&1088,l.$$.dirty&2176,l.$$.dirty&968&&t(5,n=(u=`left: -${o*m}px; top: -${a*m}px; width: ${s*m}px; height: ${r*m}px`)!=null?u:"display: none")},[i,c,k,m,v,n,s,r,o,a,I,z,L,N]}class at extends D{constructor(e){super(),U(this,e,ut,ot,B,{xSlices:6,ySlices:7,src:0,x:8,y:9,style:1,innerStyle:2,size:3})}}function he(l){let e=l.length,t;for(;e!=0;)t=Math.floor(Math.random()*e),e--,[l[e],l[t]]=[l[t],l[e]];return l}const O={music:"audio/background-music.mp3",vulvaFoundSound:"audio/vulva-found.wav",levelCompletedSound:"audio/new-level.wav",vulvaSpriteSheet:"images/vulva-sprite-sheet.png",gameEndImage:"images/game-end-background.jpg",levels:[{backgroundImage:"images/background-1.jpg",vulvaPositions:he([[38.46153846153847,83.78378378378379],[92.3076923076923,29.440154440154444],[75.84427767354597,52.02702702702703],[9.00562851782364,43.91891891891892],[38.930581613508444,59.55598455598455],[57.78611632270169,29.150579150579148],[84.3558282208589,88.53838065194533],[56.39059304703476,42.16614090431125],[18.865030674846626,41.6403785488959],[14.263803680981596,94.42691903259727]])},{backgroundImage:"images/background-2.jpg",vulvaPositions:he([[13.847780126849896,13.361611876988336],[32.66384778012685,6.362672322375397],[70.29598308668076,22.375397667020145],[37.52642706131078,24.814422057264053],[5.9196617336152215,29.16224814422057],[74.4186046511628,97.03075291622481],[12.050739957716702,79.00318133616119],[85.41226215644821,58.21845174973489],[38.16067653276956,35.949098621421],[37.315010570824526,49.840933191940614]])},{backgroundImage:"images/background-3.jpg",vulvaPositions:he([[63.45454545454545,10.550458715596331],[84.95454545454545,36.972477064220186],[73.36363636363636,49.357798165137616],[51.81818181818182,61.92660550458715],[28.363636363636363,90.36697247706422],[25.90909090909091,74.40366972477064],[6.409090909090908,20.18348623853211],[74.45454545454545,18.34862385321101],[56.63636363636364,3.9449541284403673],[51.227272727272734,5.871559633027523]])},{backgroundImage:"images/background-4.jpg",vulvaPositions:[...new Array(10)].map(()=>[Math.random()*90+5,Math.random()*85+10])}]};function ct(l,e){const t=e.x/e.y,n=l.x/l.y,s=t>=n?l.x/e.x:l.y/e.y,r=e.x*s,i=e.y*s;return{x:r,y:i}}const be=Ee(0),ye=Ee(0),qe=Ie([be,ye],([l,e])=>({x:l,y:e})),ft=Ie(qe,l=>(e,t)=>ct(l,{x:e,y:t})),mt=800,dt=Ie(qe,l=>l.x<=mt),Ce=Ee({});function _t(l){let e,t,n;return t=new at({props:{src:l[3][O.vulvaSpriteSheet],x:(l[0]+Math.random())/2*ge|0,y:(l[0]+Math.random())/2*ve|0,xSlices:ge,ySlices:ve,style:"position: relative; transform: translate(-50%, -50%);",size:l[2]}}),t.$on("click",l[5]),{c(){e=T("div"),V(t.$$.fragment),this.h()},l(s){e=A(s,"DIV",{style:!0});var r=R(e);j(t.$$.fragment,r),r.forEach(h),this.h()},h(){g(e,"style",l[1])},m(s,r){S(s,e,r),W(t,e,null),n=!0},p(s,[r]){const i={};r&8&&(i.src=s[3][O.vulvaSpriteSheet]),r&1&&(i.x=(s[0]+Math.random())/2*ge|0),r&1&&(i.y=(s[0]+Math.random())/2*ve|0),r&4&&(i.size=s[2]),t.$set(i),(!n||r&2)&&g(e,"style",s[1])},i(s){n||(p(t.$$.fragment,s),n=!0)},o(s){w(t.$$.fragment,s),n=!1},d(s){s&&h(e),F(t)}}}const ge=6,ve=6;function ht(l,e,t){let n,s;ee(l,Ce,c=>t(3,s=c));let{randomNumber:r}=e,{style:i=""}=e,{playgroundSize:o}=e;function a(c){Fe.call(this,l,c)}return l.$$set=c=>{"randomNumber"in c&&t(0,r=c.randomNumber),"style"in c&&t(1,i=c.style),"playgroundSize"in c&&t(4,o=c.playgroundSize)},l.$$.update=()=>{l.$$.dirty&16&&t(2,n=(o.x+o.y)*.0175)},[r,i,n,s,o,a]}class gt extends D{constructor(e){super(),U(this,e,ht,_t,B,{randomNumber:0,style:1,playgroundSize:4})}}function vt(l){const e=l-1;return e*e*e+1}function re(l,{delay:e=0,duration:t=400,easing:n=tt}={}){const s=+getComputedStyle(l).opacity;return{delay:e,duration:t,easing:n,css:r=>`opacity: ${r*s}`}}function pt(l,{delay:e=0,duration:t=400,easing:n=vt,x:s=0,y:r=0,opacity:i=0}={}){const o=getComputedStyle(l),a=+o.opacity,c=o.transform==="none"?"":o.transform,k=a*(1-i);return{delay:e,duration:t,easing:n,css:(m,v)=>`
			transform: ${c} translate(${(1-m)*s}px, ${(1-m)*r}px);
			opacity: ${a-k*v}`}}function Te(l){let e,t,n,s,r,i,o,a,c;return{c(){e=T("div"),t=Z(l[0]),n=Z(" / "),s=Z(l[1]),r=G(),i=T("img"),this.h()},l(k){e=A(k,"DIV",{class:!0});var m=R(e);t=J(m,l[0]),n=J(m," / "),s=J(m,l[1]),r=X(m),i=A(m,"IMG",{src:!0,class:!0}),m.forEach(h),this.h()},h(){q(i.src,o="favicon.png")||g(i,"src",o),g(i,"class","svelte-1wansbq"),g(e,"class","svelte-1wansbq")},m(k,m){S(k,e,m),P(e,t),P(e,n),P(e,s),P(e,r),P(e,i)},p(k,m){m&1&&se(t,k[0]),m&2&&se(s,k[1])},i(k){a||x(()=>{a=ae(i,pt,{y:-50}),a.start()}),c||x(()=>{c=ae(e,re,{}),c.start()})},o:C,d(k){k&&h(e)}}}function bt(l){let e=l[0],t,n=Te(l);return{c(){n.c(),t=H()},l(s){n.l(s),t=H()},m(s,r){n.m(s,r),S(s,t,r)},p(s,[r]){r&1&&B(e,e=s[0])?(K(),w(n,1,1,C),Y(),n=Te(s),n.c(),p(n),n.m(t.parentNode,t)):n.p(s,r)},i(s){p(n)},o(s){w(n)},d(s){s&&h(t),n.d(s)}}}function yt(l,e,t){let{found:n=0}=e,{of:s=0}=e;return l.$$set=r=>{"found"in r&&t(0,n=r.found),"of"in r&&t(1,s=r.of)},[n,s]}class wt extends D{constructor(e){super(),U(this,e,yt,bt,B,{found:0,of:1})}}function Ae(l){let e,t;return{c(){e=me("title"),t=Z(l[0])},l(n){e=de(n,"title",{});var s=R(e);t=J(s,l[0]),s.forEach(h)},m(n,s){S(n,e,s),P(e,t)},p(n,s){s&1&&se(t,n[0])},d(n){n&&h(e)}}}function kt(l){let e,t,n,s=l[0]&&Ae(l);const r=l[3].default,i=nt(r,l,l[2],null);return{c(){e=me("svg"),s&&s.c(),t=H(),i&&i.c(),this.h()},l(o){e=de(o,"svg",{xmlns:!0,viewBox:!0,class:!0});var a=R(e);s&&s.l(a),t=H(),i&&i.l(a),a.forEach(h),this.h()},h(){g(e,"xmlns","http://www.w3.org/2000/svg"),g(e,"viewBox",l[1]),g(e,"class","svelte-c8tyih")},m(o,a){S(o,e,a),s&&s.m(e,null),P(e,t),i&&i.m(e,null),n=!0},p(o,[a]){o[0]?s?s.p(o,a):(s=Ae(o),s.c(),s.m(e,t)):s&&(s.d(1),s=null),i&&i.p&&(!n||a&4)&&lt(i,r,o,o[2],n?rt(r,o[2],a,null):st(o[2]),null),(!n||a&2)&&g(e,"viewBox",o[1])},i(o){n||(p(i,o),n=!0)},o(o){w(i,o),n=!1},d(o){o&&h(e),s&&s.d(),i&&i.d(o)}}}function St(l,e,t){let{$$slots:n={},$$scope:s}=e,{title:r=null}=e,{viewBox:i}=e;return l.$$set=o=>{"title"in o&&t(0,r=o.title),"viewBox"in o&&t(1,i=o.viewBox),"$$scope"in o&&t(2,s=o.$$scope)},[r,i,s,n]}class Ge extends D{constructor(e){super(),U(this,e,St,kt,B,{title:0,viewBox:1})}}function It(l){let e;return{c(){e=me("path"),this.h()},l(t){e=de(t,"path",{d:!0}),R(e).forEach(h),this.h()},h(){g(e,"d","M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zM461.64 256l45.64-45.64c6.3-6.3 6.3-16.52 0-22.82l-22.82-22.82c-6.3-6.3-16.52-6.3-22.82 0L416 210.36l-45.64-45.64c-6.3-6.3-16.52-6.3-22.82 0l-22.82 22.82c-6.3 6.3-6.3 16.52 0 22.82L370.36 256l-45.63 45.63c-6.3 6.3-6.3 16.52 0 22.82l22.82 22.82c6.3 6.3 16.52 6.3 22.82 0L416 301.64l45.64 45.64c6.3 6.3 16.52 6.3 22.82 0l22.82-22.82c6.3-6.3 6.3-16.52 0-22.82L461.64 256z")},m(t,n){S(t,e,n)},d(t){t&&h(e)}}}function Et(l){let e,t;const n=[{viewBox:"0 0 512 512"},l[0]];let s={$$slots:{default:[It]},$$scope:{ctx:l}};for(let r=0;r<n.length;r+=1)s=$(s,n[r]);return e=new Ge({props:s}),{c(){V(e.$$.fragment)},l(r){j(e.$$.fragment,r)},m(r,i){W(e,r,i),t=!0},p(r,[i]){const o=i&1?ke(n,[n[0],Se(r[0])]):{};i&2&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){t||(p(e.$$.fragment,r),t=!0)},o(r){w(e.$$.fragment,r),t=!1},d(r){F(e,r)}}}function Ct(l,e,t){return l.$$set=n=>{t(0,e=$($({},e),ce(n)))},e=ce(e),[e]}class zt extends D{constructor(e){super(),U(this,e,Ct,Et,B,{})}}function Mt(l){let e;return{c(){e=me("path"),this.h()},l(t){e=de(t,"path",{d:!0}),R(e).forEach(h),this.h()},h(){g(e,"d","M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zm233.32-51.08c-11.17-7.33-26.18-4.24-33.51 6.95-7.34 11.17-4.22 26.18 6.95 33.51 66.27 43.49 105.82 116.6 105.82 195.58 0 78.98-39.55 152.09-105.82 195.58-11.17 7.32-14.29 22.34-6.95 33.5 7.04 10.71 21.93 14.56 33.51 6.95C528.27 439.58 576 351.33 576 256S528.27 72.43 448.35 19.97zM480 256c0-63.53-32.06-121.94-85.77-156.24-11.19-7.14-26.03-3.82-33.12 7.46s-3.78 26.21 7.41 33.36C408.27 165.97 432 209.11 432 256s-23.73 90.03-63.48 115.42c-11.19 7.14-14.5 22.07-7.41 33.36 6.51 10.36 21.12 15.14 33.12 7.46C447.94 377.94 480 319.54 480 256zm-141.77-76.87c-11.58-6.33-26.19-2.16-32.61 9.45-6.39 11.61-2.16 26.2 9.45 32.61C327.98 228.28 336 241.63 336 256c0 14.38-8.02 27.72-20.92 34.81-11.61 6.41-15.84 21-9.45 32.61 6.43 11.66 21.05 15.8 32.61 9.45 28.23-15.55 45.77-45 45.77-76.88s-17.54-61.32-45.78-76.86z")},m(t,n){S(t,e,n)},d(t){t&&h(e)}}}function Lt(l){let e,t;const n=[{viewBox:"0 0 576 512"},l[0]];let s={$$slots:{default:[Mt]},$$scope:{ctx:l}};for(let r=0;r<n.length;r+=1)s=$(s,n[r]);return e=new Ge({props:s}),{c(){V(e.$$.fragment)},l(r){j(e.$$.fragment,r)},m(r,i){W(e,r,i),t=!0},p(r,[i]){const o=i&1?ke(n,[n[0],Se(r[0])]):{};i&2&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){t||(p(e.$$.fragment,r),t=!0)},o(r){w(e.$$.fragment,r),t=!1},d(r){F(e,r)}}}function Nt(l,e,t){return l.$$set=n=>{t(0,e=$($({},e),ce(n)))},e=ce(e),[e]}class Rt extends D{constructor(e){super(),U(this,e,Nt,Lt,B,{})}}function Pt(l){let e,t;return e=new zt({}),{c(){V(e.$$.fragment)},l(n){j(e.$$.fragment,n)},m(n,s){W(e,n,s),t=!0},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Tt(l){let e,t;return e=new Rt({}),{c(){V(e.$$.fragment)},l(n){j(e.$$.fragment,n)},m(n,s){W(e,n,s),t=!0},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Be(l){let e,t,n,s,r,i,o;const a=[Tt,Pt],c=[];function k(m,v){return m[0]?0:1}return t=k(l),n=c[t]=a[t](l),{c(){e=T("div"),n.c(),this.h()},l(m){e=A(m,"DIV",{class:!0});var v=R(e);n.l(v),v.forEach(h),this.h()},h(){g(e,"class","svelte-gg4bzx")},m(m,v){S(m,e,v),c[t].m(e,null),r=!0,i||(o=ie(e,"click",l[1]),i=!0)},p(m,v){let I=t;t=k(m),t!==I&&(K(),w(c[I],1,1,()=>{c[I]=null}),Y(),n=c[t],n||(n=c[t]=a[t](m),n.c()),p(n,1),n.m(e,null))},i(m){r||(p(n),x(()=>{s||(s=Pe(e,re,{duration:200},!0)),s.run(1)}),r=!0)},o(m){w(n),s||(s=Pe(e,re,{duration:200},!1)),s.run(0),r=!1},d(m){m&&h(e),c[t].d(),m&&s&&s.end(),i=!1,o()}}}function At(l){let e=l[0],t,n,s=Be(l);return{c(){s.c(),t=H()},l(r){s.l(r),t=H()},m(r,i){s.m(r,i),S(r,t,i),n=!0},p(r,[i]){i&1&&B(e,e=r[0])?(K(),w(s,1,1,C),Y(),s=Be(r),s.c(),p(s),s.m(t.parentNode,t)):s.p(r,i)},i(r){n||(p(s),n=!0)},o(r){w(s),n=!1},d(r){r&&h(t),s.d(r)}}}const pe="muted";function Bt(l,e,t){let{audioRefs:n=[]}=e,s=!localStorage.getItem(pe);function r(){s?localStorage.setItem(pe,"1"):localStorage.removeItem(pe);for(const i of n)i.muted=s;t(0,s=!s)}return l.$$set=i=>{"audioRefs"in i&&t(2,n=i.audioRefs)},[s,r,n]}class Ht extends D{constructor(e){super(),U(this,e,Bt,At,B,{audioRefs:2})}}const{window:we}=Oe;function He(l){let e,t;return e=new Ht({props:{audioRefs:[l[10],l[11],l[12]]}}),{c(){V(e.$$.fragment)},l(n){j(e.$$.fragment,n)},m(n,s){W(e,n,s),t=!0},p(n,s){const r={};s&7168&&(r.audioRefs=[n[10],n[11],n[12]]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function De(l){let e,t,n;return{c(){e=T("img"),this.h()},l(s){e=A(s,"IMG",{src:!0,class:!0}),this.h()},h(){q(e.src,t=l[17][l[1]])||g(e,"src",t),g(e,"class","svelte-1uzjeh0")},m(s,r){S(s,e,r),l[24](e)},p(s,r){r&131074&&!q(e.src,t=s[17][s[1]])&&g(e,"src",t)},i(s){n||x(()=>{n=ae(e,re,{}),n.start()})},o:C,d(s){s&&h(e),l[24](null)}}}function Ue(l){let e=l[6],t,n,s=Ve(l);return{c(){s.c(),t=H()},l(r){s.l(r),t=H()},m(r,i){s.m(r,i),S(r,t,i),n=!0},p(r,i){i&64&&B(e,e=r[6])?(K(),w(s,1,1,C),Y(),s=Ve(r),s.c(),p(s),s.m(t.parentNode,t)):s.p(r,i)},i(r){n||(p(s),n=!0)},o(r){w(s),n=!1},d(r){r&&h(t),s.d(r)}}}function Ve(l){let e,t,n,s;return t=new gt({props:{randomNumber:l[13],playgroundSize:l[7]}}),t.$on("click",l[18]),{c(){e=T("div"),V(t.$$.fragment),this.h()},l(r){e=A(r,"DIV",{style:!0});var i=R(e);j(t.$$.fragment,i),i.forEach(h),this.h()},h(){te(e,"position","absolute"),te(e,"left",l[16]+"%"),te(e,"top",l[15]+"%")},m(r,i){S(r,e,i),W(t,e,null),s=!0},p(r,i){const o={};i&8192&&(o.randomNumber=r[13]),i&128&&(o.playgroundSize=r[7]),t.$set(o),(!s||i&65536)&&te(e,"left",r[16]+"%"),(!s||i&32768)&&te(e,"top",r[15]+"%")},i(r){s||(p(t.$$.fragment,r),n||x(()=>{n=ae(e,re,{}),n.start()}),s=!0)},o(r){w(t.$$.fragment,r),s=!1},d(r){r&&h(e),F(t)}}}function Dt(l){let e,t,n,s,r=l[1],i,o,a,c,k,m,v,I,z,L,N,u,d;x(l[23]),t=new wt({props:{found:l[6],of:l[0].length}});let _=l[10]&&l[11]&&l[12]&&He(l),E=De(l),M=l[5]&&Ue(l);return{c(){e=T("div"),V(t.$$.fragment),n=G(),_&&_.c(),s=G(),E.c(),i=G(),M&&M.c(),o=G(),a=T("audio"),k=G(),m=T("audio"),I=G(),z=T("audio"),this.h()},l(f){e=A(f,"DIV",{style:!0});var b=R(e);j(t.$$.fragment,b),n=X(b),_&&_.l(b),s=X(b),E.l(b),i=X(b),M&&M.l(b),b.forEach(h),o=X(f),a=A(f,"AUDIO",{src:!0,class:!0}),R(a).forEach(h),k=X(f),m=A(f,"AUDIO",{src:!0,class:!0}),R(m).forEach(h),I=X(f),z=A(f,"AUDIO",{src:!0,class:!0}),R(z).forEach(h),this.h()},h(){g(e,"style",l[14]),q(a.src,c=l[17][l[2]])||g(a,"src",c),a.autoplay=!0,a.loop=!0,g(a,"class","svelte-1uzjeh0"),q(m.src,v=l[17][l[3]])||g(m,"src",v),g(m,"class","svelte-1uzjeh0"),q(z.src,L=l[17][l[4]])||g(z,"src",L),g(z,"class","svelte-1uzjeh0")},m(f,b){S(f,e,b),W(t,e,null),P(e,n),_&&_.m(e,null),P(e,s),E.m(e,null),P(e,i),M&&M.m(e,null),S(f,o,b),S(f,a,b),l[25](a),S(f,k,b),S(f,m,b),l[26](m),S(f,I,b),S(f,z,b),l[27](z),N=!0,u||(d=ie(we,"resize",l[23]),u=!0)},p(f,[b]){const Q={};b&64&&(Q.found=f[6]),b&1&&(Q.of=f[0].length),t.$set(Q),f[10]&&f[11]&&f[12]?_?(_.p(f,b),b&7168&&p(_,1)):(_=He(f),_.c(),p(_,1),_.m(e,s)):_&&(K(),w(_,1,1,()=>{_=null}),Y()),b&2&&B(r,r=f[1])?(K(),w(E,1,1,C),Y(),E=De(f),E.c(),p(E),E.m(e,i)):E.p(f,b),f[5]?M?(M.p(f,b),b&32&&p(M,1)):(M=Ue(f),M.c(),p(M,1),M.m(e,null)):M&&(K(),w(M,1,1,()=>{M=null}),Y()),(!N||b&16384)&&g(e,"style",f[14]),(!N||b&131076&&!q(a.src,c=f[17][f[2]]))&&g(a,"src",c),(!N||b&131080&&!q(m.src,v=f[17][f[3]]))&&g(m,"src",v),(!N||b&131088&&!q(z.src,L=f[17][f[4]]))&&g(z,"src",L)},i(f){N||(p(t.$$.fragment,f),p(_),p(E),p(M),N=!0)},o(f){w(t.$$.fragment,f),w(_),w(E),w(M),N=!1},d(f){f&&h(e),F(t),_&&_.d(),E.d(f),M&&M.d(),f&&h(o),f&&h(a),l[25](null),f&&h(k),f&&h(m),l[26](null),f&&h(I),f&&h(z),l[27](null),u=!1,d()}}}function Ut(l,e,t){let n,s,r,i,o,a;ee(l,ft,y=>t(22,o=y)),ee(l,Ce,y=>t(17,a=y));let{vulvaPositions:c=[]}=e,{backgroundImage:k=""}=e,{music:m=""}=e,{vulvaFoundSound:v=""}=e,{levelCompletedSound:I=""}=e,{levelCompletedCb:z=()=>0}=e,L,N,u,d,_,E,M=Math.random(),f=0;function b(){t(11,_.currentTime=0,_),_.play(),t(6,f++,f),t(13,M=Math.random()),f===c.length&&(t(6,f=0),t(12,E.currentTime=0,E),E.play(),z())}let Q,oe;fe(()=>{d.paused&&window.addEventListener("pointerdown",()=>{d.play()}),t(10,d.volume=t(11,_.volume=t(12,E.volume=.1,E),_),d)});function Ke(){t(8,L=we.innerWidth),t(9,N=we.innerHeight)}function Ye(y){ne[y?"unshift":"push"](()=>{u=y,t(5,u)})}function Qe(y){ne[y?"unshift":"push"](()=>{d=y,t(10,d)})}function Ze(y){ne[y?"unshift":"push"](()=>{_=y,t(11,_)})}function Je(y){ne[y?"unshift":"push"](()=>{E=y,t(12,E)})}return l.$$set=y=>{"vulvaPositions"in y&&t(0,c=y.vulvaPositions),"backgroundImage"in y&&t(1,k=y.backgroundImage),"music"in y&&t(2,m=y.music),"vulvaFoundSound"in y&&t(3,v=y.vulvaFoundSound),"levelCompletedSound"in y&&t(4,I=y.levelCompletedSound),"levelCompletedCb"in y&&t(19,z=y.levelCompletedCb)},l.$$.update=()=>{var y;l.$$.dirty&65&&t(16,[n,s]=(y=c[f])!=null?y:[],n,(t(15,s),t(0,c),t(6,f))),l.$$.dirty&32&&u&&t(5,u.onload=()=>{t(20,Q=u==null?void 0:u.naturalWidth),t(21,oe=u==null?void 0:u.naturalHeight)},u),l.$$.dirty&7340032&&t(7,r=!isNaN(Q)&&!isNaN(oe)&&o(Q,oe)),l.$$.dirty&128&&t(14,i=typeof r=="object"&&`position: relative; width: ${r.x}px; height: ${r.y}px`)},[c,k,m,v,I,u,f,r,L,N,d,_,E,M,i,s,n,a,b,z,Q,oe,o,Ke,Ye,Qe,Ze,Je]}class Vt extends D{constructor(e){super(),U(this,e,Ut,Dt,B,{vulvaPositions:0,backgroundImage:1,music:2,vulvaFoundSound:3,levelCompletedSound:4,levelCompletedCb:19})}}async function jt(l){return new Promise(e=>setTimeout(e,l))}function Wt(l){return Xe([l])}function Xe(l){const e=l.filter(Ot),t=l.filter(Ft);return qt([...e.map(n=>je(n)),...t.map(n=>je(n))])}function je(l){return new Promise((e,t)=>{try{const n=new XMLHttpRequest;n.open("GET",l),n.responseType="blob",n.onerror=()=>t("Network error"),n.onload=()=>{if(n.status>=200&&n.status<300){const s=URL.createObjectURL(n.response);e(s),Ce.update(r=>(r[l]=s,r))}else t("Failed to load "+l+":"+n.statusText)},n.send()}catch(n){t(n.message)}})}function Ft(l){return/\.(?:wav|mp3)/.test(l)}function Ot(l){return/\.(?:png|jpg)/.test(l)}async function qt(l){const e=[];for(const t of l)e.push(await t),await jt(1);return e}function Gt(l){let e,t;return x(l[2]),{c:C,l:C,m(n,s){e||(t=ie(window,"resize",l[2]),e=!0)},p:C,i:C,o:C,d(n){e=!1,t()}}}function Xt(l,e,t){let n,s;ee(l,be,i=>t(0,n=i)),ee(l,ye,i=>t(1,s=i));function r(){be.set(n=window.innerWidth),ye.set(s=window.innerHeight)}return[n,s,r]}class Kt extends D{constructor(e){super(),U(this,e,Xt,Gt,B,{})}}function Yt(l){let e,t;return{c(){e=T("p"),t=Z(l[0])},l(n){e=A(n,"P",{});var s=R(e);t=J(s,l[0]),s.forEach(h)},m(n,s){S(n,e,s),P(e,t)},p(n,[s]){s&1&&se(t,n[0])},i:C,o:C,d(n){n&&h(e)}}}function Qt(l,e,t){let{url:n=""}=e,{seconds:s=0}=e,r=s;return fe(()=>{setTimeout(()=>window.location.href=n,s*1e3),setInterval(()=>r>0&&t(0,r--,r),1e3)}),l.$$set=i=>{"url"in i&&t(1,n=i.url),"seconds"in i&&t(2,s=i.seconds)},[r,n,s]}class Zt extends D{constructor(e){super(),U(this,e,Qt,Yt,B,{url:1,seconds:2})}}function Jt(l){let e,t,n,s,r;return s=new Zt({props:{url:"https://open.spotify.com/show/6UUIXmp1V0fK4ZpK7vzAbQ",seconds:3}}),{c(){e=T("div"),t=T("h1"),n=Z(`Let's go der Hase
        `),V(s.$$.fragment),this.h()},l(i){e=A(i,"DIV",{class:!0});var o=R(e);t=A(o,"H1",{});var a=R(t);n=J(a,`Let's go der Hase
        `),j(s.$$.fragment,a),a.forEach(h),o.forEach(h),this.h()},h(){g(e,"class","svelte-12ivc9q")},m(i,o){S(i,e,o),P(e,t),P(t,n),W(s,t,null),r=!0},p:C,i(i){r||(p(s.$$.fragment,i),r=!0)},o(i){w(s.$$.fragment,i),r=!1},d(i){i&&h(e),F(s)}}}class xt extends D{constructor(e){super(),U(this,e,null,Jt,B,{})}}const{document:le}=Oe;function $t(l){return{c(){this.h()},l(e){this.h()},h(){le.title="Wo Ist Vulva?"},m:C,d:C}}function en(l){l[4];let e;return tn(l),{c(){e=H()},l(t){e=H()},m(t,n){S(t,e,n)},d(t){t&&h(e)}}}function tn(l){return le.title=l[4],{c:C,l:C,m:C,d:C}}function nn(l){let e,t;const n=[l[3]];let s={};for(let r=0;r<n.length;r+=1)s=$(s,n[r]);return e=new Vt({props:s}),{c(){V(e.$$.fragment)},l(r){j(e.$$.fragment,r)},m(r,i){W(e,r,i),t=!0},p(r,i){const o=i&8?ke(n,[Se(r[3])]):{};e.$set(o)},i(r){t||(p(e.$$.fragment,r),t=!0)},o(r){w(e.$$.fragment,r),t=!1},d(r){F(e,r)}}}function ln(l){let e,t;return{c(){e=T("h1"),t=Z(l[4]),this.h()},l(n){e=A(n,"H1",{class:!0});var s=R(e);t=J(s,l[4]),s.forEach(h),this.h()},h(){g(e,"class","svelte-160hh5a")},m(n,s){S(n,e,s),P(e,t)},p(n,s){s&16&&se(t,n[4])},i:C,o:C,d(n){n&&h(e)}}}function We(l){let e,t;return e=new xt({}),{c(){V(e.$$.fragment)},l(n){j(e.$$.fragment,n)},m(n,s){W(e,n,s),t=!0},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function sn(l){let e,t,n,s,r,i,o,a,c,k;function m(d,_){return d[1]<d[0]?en:$t}let v=m(l),I=v(l);const z=[ln,nn],L=[];function N(d,_){return d[1]<d[0]?0:1}n=N(l),s=L[n]=z[n](l);let u=l[2]&&We();return o=new Kt({}),{c(){I.c(),e=H(),t=G(),s.c(),r=G(),u&&u.c(),i=G(),V(o.$$.fragment)},l(d){const _=it('[data-svelte="svelte-rowkq2"]',le.head);I.l(_),e=H(),_.forEach(h),t=X(d),s.l(d),r=X(d),u&&u.l(d),i=X(d),j(o.$$.fragment,d)},m(d,_){I.m(le.head,null),P(le.head,e),S(d,t,_),L[n].m(d,_),S(d,r,_),u&&u.m(d,_),S(d,i,_),W(o,d,_),a=!0,c||(k=ie(window,"unhandledRejection",l[5]),c=!0)},p(d,[_]){v!==(v=m(d))&&(I.d(1),I=v(d),I&&(I.c(),I.m(e.parentNode,e)));let E=n;n=N(d),n===E?L[n].p(d,_):(K(),w(L[E],1,1,()=>{L[E]=null}),Y(),s=L[n],s?s.p(d,_):(s=L[n]=z[n](d),s.c()),p(s,1),s.m(r.parentNode,r)),d[2]?u?_&4&&p(u,1):(u=We(),u.c(),p(u,1),u.m(i.parentNode,i)):u&&(K(),w(u,1,1,()=>{u=null}),Y())},i(d){a||(p(s),p(u),p(o.$$.fragment,d),a=!0)},o(d){w(s),w(u),w(o.$$.fragment,d),a=!1},d(d){I.d(d),h(e),d&&h(t),L[n].d(d),d&&h(r),u&&u.d(d),d&&h(i),F(o,d),c=!1,k()}}}function rn(l,e,t){let n,s,r;ee(l,dt,u=>t(7,r=u));let i=0,o=!1,a=0,c=-1;const k=u=>alert(`something went wrong:
`+u.reason);fe(async()=>{setInterval(()=>{t(6,a++,a)},500),await Xe([O.levels[0].backgroundImage,O.music,O.levelCompletedSound,O.vulvaFoundSound,O.vulvaSpriteSheet]),t(1,c=0),r&&(onpointerdown=()=>document.body.requestFullscreen());for(const d of O.levels.slice(1).map(_=>_.backgroundImage))await Wt(d),t(1,c++,c);const u=new Image;u.src=O.gameEndImage,"load"in u&&u.load()});function m(){if(i+1===O.levels.length)return t(2,o=!0);t(0,i++,i)}const N=O,{levels:v,vulvaSpriteSheet:I,gameEndImage:z}=N,L=Re(N,["levels","vulvaSpriteSheet","gameEndImage"]);return l.$$.update=()=>{l.$$.dirty&66&&t(4,n="lade level "+(c+2)+".".repeat(a%4)),l.$$.dirty&1&&t(3,s=Ne(_e(_e({},L),v[i]),{levelCompletedCb:m}))},[i,c,o,s,n,k,a]}class cn extends D{constructor(e){super(),U(this,e,rn,sn,B,{})}}export{cn as default};
