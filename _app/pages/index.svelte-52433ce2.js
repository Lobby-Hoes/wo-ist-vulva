import{S as F,i as L,s as D,e as j,c as P,a as H,d as g,N as W,b,g as C,M as A,O as fe,E as S,v as le,P as be,Q as Z,w as V,x as R,y as O,q as I,o as E,B as U,R as Pe,l as X,n as B,p as K,t as q,k as T,h as G,m as z,j as te,T as x,U as de,f as Y,V as ne,W as we,X as Ae,C as He,z as We,A as De}from"../chunks/index-28b8138c.js";import{d as me,w as ke}from"../chunks/index-b2c36c7e.js";function Te(n){let e,t,s,l,o,i,u;return{c(){e=j("div"),t=j("img"),this.h()},l(c){e=P(c,"DIV",{style:!0,class:!0});var m=H(e);t=P(m,"IMG",{src:!0,style:!0,class:!0}),m.forEach(g),this.h()},h(){W(t.src,s=n[0])||b(t,"src",s),b(t,"style",l=n[6]+n[2]),b(t,"class","svelte-1d73yvl"),b(e,"style",o="width: "+n[4]+"px; height: "+n[3]+"px; "+n[1]),b(e,"class","svelte-1d73yvl")},m(c,m){C(c,e,m),A(e,t),n[14](t),i||(u=fe(e,"click",n[13]),i=!0)},p(c,[m]){m&1&&!W(t.src,s=c[0])&&b(t,"src",s),m&68&&l!==(l=c[6]+c[2])&&b(t,"style",l),m&26&&o!==(o="width: "+c[4]+"px; height: "+c[3]+"px; "+c[1])&&b(e,"style",o)},i:S,o:S,d(c){c&&g(e),n[14](null),i=!1,u()}}}function ze(n,e,t){let s,l,o,{xSlices:i=1}=e,{ySlices:u=1}=e,{src:c=""}=e,{x:m=0}=e,{y:d=0}=e,{style:k=""}=e,{innerStyle:M=""}=e,_,N,h;le(()=>{if(_.width&&_.height){t(11,N=_.width),t(12,h=_.height);return}const a=()=>{t(11,N=_.width),t(12,h=_.height),_.removeEventListener("load",a)};_.addEventListener("load",a)});function r(a){be.call(this,n,a)}function w(a){Z[a?"unshift":"push"](()=>{_=a,t(5,_)})}return n.$$set=a=>{"xSlices"in a&&t(7,i=a.xSlices),"ySlices"in a&&t(8,u=a.ySlices),"src"in a&&t(0,c=a.src),"x"in a&&t(9,m=a.x),"y"in a&&t(10,d=a.y),"style"in a&&t(1,k=a.style),"innerStyle"in a&&t(2,M=a.innerStyle)},n.$$.update=()=>{var a;n.$$.dirty&2176&&t(4,s=N/i|0),n.$$.dirty&4352&&t(3,l=h/u|0),n.$$.dirty&1560&&t(6,o=(a=s&&l&&`left: -${m*s}px; top: -${d*l}px;`)!=null?a:"display: none")},[c,k,M,l,s,_,o,i,u,m,d,N,h,r,w]}class Fe extends F{constructor(e){super(),L(this,e,ze,Te,D,{xSlices:7,ySlices:8,src:0,x:9,y:10,style:1,innerStyle:2})}}function Le(n){let e,t,s;return t=new Fe({props:{src:"images/vulva-sprite-sheet.png",x:(n[0]+Math.random())/2*se|0,y:(n[0]+Math.random())/2*oe|0,xSlices:se,ySlices:oe,innerStyle:"width: 15vw; height: 15vw;",style:"position: relative; transform: translate(-50%, -50%) ;"}}),t.$on("click",n[2]),{c(){e=j("div"),V(t.$$.fragment),this.h()},l(l){e=P(l,"DIV",{style:!0});var o=H(e);R(t.$$.fragment,o),o.forEach(g),this.h()},h(){b(e,"style",n[1])},m(l,o){C(l,e,o),O(t,e,null),s=!0},p(l,[o]){const i={};o&1&&(i.x=(l[0]+Math.random())/2*se|0),o&1&&(i.y=(l[0]+Math.random())/2*oe|0),t.$set(i),(!s||o&2)&&b(e,"style",l[1])},i(l){s||(I(t.$$.fragment,l),s=!0)},o(l){E(t.$$.fragment,l),s=!1},d(l){l&&g(e),U(t)}}}const se=6,oe=6;function Ve(n,e,t){let{randomNumber:s}=e,{style:l=""}=e;function o(i){be.call(this,n,i)}return n.$$set=i=>{"randomNumber"in i&&t(0,s=i.randomNumber),"style"in i&&t(1,l=i.style)},[s,l,o]}class Re extends F{constructor(e){super(),L(this,e,Ve,Le,D,{randomNumber:0,style:1})}}function Oe(n){const e=n-1;return e*e*e+1}function Se(n,{delay:e=0,duration:t=400,easing:s=Pe}={}){const l=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:s,css:o=>`opacity: ${o*l}`}}function Ue(n,{delay:e=0,duration:t=400,easing:s=Oe,x:l=0,y:o=0,opacity:i=0}={}){const u=getComputedStyle(n),c=+u.opacity,m=u.transform==="none"?"":u.transform,d=c*(1-i);return{delay:e,duration:t,easing:s,css:(k,M)=>`
			transform: ${m} translate(${(1-k)*l}px, ${(1-k)*o}px);
			opacity: ${c-d*M}`}}function _e(n){let e,t,s,l,o,i,u,c;return{c(){e=j("div"),t=q(n[0]),s=q(" / "),l=q(n[1]),o=T(),i=j("img"),this.h()},l(m){e=P(m,"DIV",{class:!0});var d=H(e);t=G(d,n[0]),s=G(d," / "),l=G(d,n[1]),o=z(d),i=P(d,"IMG",{src:!0,class:!0}),d.forEach(g),this.h()},h(){W(i.src,u="favicon.png")||b(i,"src",u),b(i,"class","svelte-xrvjvz"),b(e,"class","svelte-xrvjvz")},m(m,d){C(m,e,d),A(e,t),A(e,s),A(e,l),A(e,o),A(e,i)},p(m,d){d&1&&te(t,m[0]),d&2&&te(l,m[1])},i(m){c||x(()=>{c=de(i,Ue,{y:-50}),c.start()})},o:S,d(m){m&&g(e)}}}function qe(n){let e=n[0],t,s=_e(n);return{c(){s.c(),t=X()},l(l){s.l(l),t=X()},m(l,o){s.m(l,o),C(l,t,o)},p(l,[o]){o&1&&D(e,e=l[0])?(B(),E(s,1,1,S),K(),s=_e(l),s.c(),I(s),s.m(t.parentNode,t)):s.p(l,o)},i(l){I(s)},o(l){E(s)},d(l){l&&g(t),s.d(l)}}}function Ge(n,e,t){let{found:s=0}=e,{of:l=0}=e;return n.$$set=o=>{"found"in o&&t(0,s=o.found),"of"in o&&t(1,l=o.of)},[s,l]}class Xe extends F{constructor(e){super(),L(this,e,Ge,qe,D,{found:0,of:1})}}function Be(n,e){const t=e.x/e.y,s=n.x/n.y,l=t>=s?n.x/e.x:n.y/e.y,o=e.x*l,i=e.y*l;return{x:o,y:i}}const ue=ke(0),ae=ke(0),Ie=me([ue,ae],([n,e])=>({x:n,y:e})),Ke=me(Ie,n=>(e,t)=>Be(n,{x:e,y:t})),Qe=800,Ye=me(Ie,n=>n.x<=Qe);const{window:ce}=we;function he(n){let e,t,s;return{c(){e=j("img"),this.h()},l(l){e=P(l,"IMG",{src:!0,class:!0}),this.h()},h(){W(e.src,t=n[1])||b(e,"src",t),b(e,"class","svelte-1uzjeh0")},m(l,o){C(l,e,o),n[23](e)},p(l,o){o&2&&!W(e.src,t=l[1])&&b(e,"src",t)},i(l){s||x(()=>{s=de(e,Se,{}),s.start()})},o:S,d(l){l&&g(e),n[23](null)}}}function ge(n){let e=n[6],t,s,l=ve(n);return{c(){l.c(),t=X()},l(o){l.l(o),t=X()},m(o,i){l.m(o,i),C(o,t,i),s=!0},p(o,i){i&64&&D(e,e=o[6])?(B(),E(l,1,1,S),K(),l=ve(o),l.c(),I(l),l.m(t.parentNode,t)):l.p(o,i)},i(o){s||(I(l),s=!0)},o(o){E(l),s=!1},d(o){o&&g(t),l.d(o)}}}function ve(n){let e,t,s,l;return t=new Re({props:{randomNumber:n[12]}}),t.$on("click",n[16]),{c(){e=j("div"),V(t.$$.fragment),this.h()},l(o){e=P(o,"DIV",{style:!0});var i=H(e);R(t.$$.fragment,i),i.forEach(g),this.h()},h(){Y(e,"position","absolute"),Y(e,"left",n[15]+"%"),Y(e,"top",n[14]+"%")},m(o,i){C(o,e,i),O(t,e,null),l=!0},p(o,i){const u={};i&4096&&(u.randomNumber=o[12]),t.$set(u),(!l||i&32768)&&Y(e,"left",o[15]+"%"),(!l||i&16384)&&Y(e,"top",o[14]+"%")},i(o){l||(I(t.$$.fragment,o),s||x(()=>{s=de(e,Se,{}),s.start()}),l=!0)},o(o){E(t.$$.fragment,o),l=!1},d(o){o&&g(e),U(t)}}}function Ze(n){let e,t,s,l=[n[1]],o,i,u,c,m,d,k,M,_,N,h,r,w;x(n[22]),t=new Xe({props:{found:n[6],of:n[0].length}});let a=he(n),y=n[5]&&ge(n);return{c(){e=j("div"),V(t.$$.fragment),s=T(),a.c(),o=T(),y&&y.c(),i=T(),u=j("audio"),m=T(),d=j("audio"),M=T(),_=j("audio"),this.h()},l(f){e=P(f,"DIV",{style:!0});var v=H(e);R(t.$$.fragment,v),s=z(v),a.l(v),o=z(v),y&&y.l(v),v.forEach(g),i=z(f),u=P(f,"AUDIO",{src:!0,class:!0}),H(u).forEach(g),m=z(f),d=P(f,"AUDIO",{src:!0,class:!0}),H(d).forEach(g),M=z(f),_=P(f,"AUDIO",{src:!0,class:!0}),H(_).forEach(g),this.h()},h(){b(e,"style",n[13]),W(u.src,c=n[2])||b(u,"src",c),u.autoplay=!0,u.loop=!0,b(u,"class","svelte-1uzjeh0"),W(d.src,k=n[3])||b(d,"src",k),b(d,"class","svelte-1uzjeh0"),W(_.src,N=n[4])||b(_,"src",N),b(_,"class","svelte-1uzjeh0")},m(f,v){C(f,e,v),O(t,e,null),A(e,s),a.m(e,null),A(e,o),y&&y.m(e,null),C(f,i,v),C(f,u,v),n[24](u),C(f,m,v),C(f,d,v),n[25](d),C(f,M,v),C(f,_,v),n[26](_),h=!0,r||(w=fe(ce,"resize",n[22]),r=!0)},p(f,[v]){const Q={};v&64&&(Q.found=f[6]),v&1&&(Q.of=f[0].length),t.$set(Q),v&2&&D(l,l=[f[1]])?(B(),E(a,1,1,S),K(),a=he(f),a.c(),I(a),a.m(e,o)):a.p(f,v),f[5]?y?(y.p(f,v),v&32&&I(y,1)):(y=ge(f),y.c(),I(y,1),y.m(e,null)):y&&(B(),E(y,1,1,()=>{y=null}),K()),(!h||v&8192)&&b(e,"style",f[13]),(!h||v&4&&!W(u.src,c=f[2]))&&b(u,"src",c),(!h||v&8&&!W(d.src,k=f[3]))&&b(d,"src",k),(!h||v&16&&!W(_.src,N=f[4]))&&b(_,"src",N)},i(f){h||(I(t.$$.fragment,f),I(a),I(y),h=!0)},o(f){E(t.$$.fragment,f),E(a),E(y),h=!1},d(f){f&&g(e),U(t),a.d(f),y&&y.d(),f&&g(i),f&&g(u),n[24](null),f&&g(m),f&&g(d),n[25](null),f&&g(M),f&&g(_),n[26](null),r=!1,w()}}}function Je(n,e,t){let s,l,o,i,u;ne(n,Ke,p=>t(21,u=p));let{vulvaPositions:c=[]}=e,{backgroundImage:m=""}=e,{music:d=""}=e,{vulvaFoundSound:k=""}=e,{levelCompletedSound:M=""}=e,{levelCompletedCb:_=()=>0}=e,N,h,r,w,a,y,f=Math.random(),v=0;function Q(){t(10,a.currentTime=0,a),a.play(),t(6,v++,v),t(12,f=Math.random()),v===c.length&&(t(6,v=0),t(11,y.currentTime=0,y),y.play(),_())}let $,ee;le(()=>{w.paused&&window.addEventListener("pointerdown",()=>{w.play()}),t(9,w.volume=t(10,a.volume=t(11,y.volume=.1,y),a),w)});function Ce(){t(7,N=ce.innerWidth),t(8,h=ce.innerHeight)}function Ee(p){Z[p?"unshift":"push"](()=>{r=p,t(5,r)})}function Me(p){Z[p?"unshift":"push"](()=>{w=p,t(9,w)})}function Ne(p){Z[p?"unshift":"push"](()=>{a=p,t(10,a)})}function je(p){Z[p?"unshift":"push"](()=>{y=p,t(11,y)})}return n.$$set=p=>{"vulvaPositions"in p&&t(0,c=p.vulvaPositions),"backgroundImage"in p&&t(1,m=p.backgroundImage),"music"in p&&t(2,d=p.music),"vulvaFoundSound"in p&&t(3,k=p.vulvaFoundSound),"levelCompletedSound"in p&&t(4,M=p.levelCompletedSound),"levelCompletedCb"in p&&t(17,_=p.levelCompletedCb)},n.$$.update=()=>{var p;n.$$.dirty&65&&t(15,[s,l]=(p=c[v])!=null?p:[],s,(t(14,l),t(0,c),t(6,v))),n.$$.dirty&32&&r&&t(5,r.onload=()=>{t(18,$=r==null?void 0:r.naturalWidth),t(19,ee=r==null?void 0:r.naturalHeight)},r),n.$$.dirty&2883584&&t(20,o=!isNaN($)&&!isNaN(ee)&&u($,ee)),n.$$.dirty&1048576&&t(13,i=typeof o=="object"&&`position: relative; width: ${o.x}px; height: ${o.y}px`)},[c,m,d,k,M,r,v,N,h,w,a,y,f,i,l,s,Q,_,$,ee,o,u,Ce,Ee,Me,Ne,je]}class xe extends F{constructor(e){super(),L(this,e,Je,Ze,D,{vulvaPositions:0,backgroundImage:1,music:2,vulvaFoundSound:3,levelCompletedSound:4,levelCompletedCb:17})}}async function $e(n){return new Promise(e=>setTimeout(e,n))}function et(n){const e=n.filter(nt),t=n.filter(tt);return lt([...e.map(s=>ye(s,Image)),...t.map(s=>ye(s,Audio))])}async function ye(n,e){const t=new e;return new Promise((s,l)=>{t.oncanplaythrough=()=>s(n),t.onload=()=>s(n),t.onabort=()=>l(),t.src=n})}function tt(n){return/\.(?:wav|mp3)/.test(n)}function nt(n){return/\.(?:png|jpg)/.test(n)}async function lt(n){for(const e of n)await e,await $e(1)}function ie(n){let e=n.length,t;for(;e!=0;)t=Math.floor(Math.random()*e),e--,[n[e],n[t]]=[n[t],n[e]];return n}function st(n){let e,t;return x(n[2]),{c:S,l:S,m(s,l){e||(t=fe(window,"resize",n[2]),e=!0)},p:S,i:S,o:S,d(s){e=!1,t()}}}function ot(n,e,t){let s,l;ne(n,ue,i=>t(0,s=i)),ne(n,ae,i=>t(1,l=i));function o(){ue.set(s=window.innerWidth),ae.set(l=window.innerHeight)}return[s,l,o]}class it extends F{constructor(e){super(),L(this,e,ot,st,D,{})}}function rt(n){let e,t;return{c(){e=j("p"),t=q(n[0])},l(s){e=P(s,"P",{});var l=H(e);t=G(l,n[0]),l.forEach(g)},m(s,l){C(s,e,l),A(e,t)},p(s,[l]){l&1&&te(t,s[0])},i:S,o:S,d(s){s&&g(e)}}}function ut(n,e,t){let{url:s=""}=e,{seconds:l=0}=e,o=l;return le(()=>{setTimeout(()=>{window.location.href=s},l*1e3),setInterval(()=>{t(0,o--,o)},1e3)}),n.$$set=i=>{"url"in i&&t(1,s=i.url),"seconds"in i&&t(2,l=i.seconds)},[o,s,l]}class at extends F{constructor(e){super(),L(this,e,ut,rt,D,{url:1,seconds:2})}}function ct(n){let e,t,s,l,o;return l=new at({props:{url:"https://open.spotify.com/show/6UUIXmp1V0fK4ZpK7vzAbQ",seconds:3}}),{c(){e=j("div"),t=j("h1"),s=q(`Let's go der Hase
        `),V(l.$$.fragment),this.h()},l(i){e=P(i,"DIV",{class:!0});var u=H(e);t=P(u,"H1",{});var c=H(t);s=G(c,`Let's go der Hase
        `),R(l.$$.fragment,c),c.forEach(g),u.forEach(g),this.h()},h(){b(e,"class","svelte-12ivc9q")},m(i,u){C(i,e,u),A(e,t),A(t,s),O(l,t,null),o=!0},p:S,i(i){o||(I(l.$$.fragment,i),o=!0)},o(i){E(l.$$.fragment,i),o=!1},d(i){i&&g(e),U(l)}}}class ft extends F{constructor(e){super(),L(this,e,null,ct,D,{})}}function re(n){return fetch("/data?event="+n)}const{document:J}=we;function dt(n){return{c(){this.h()},l(e){this.h()},h(){J.title="Wo Ist Vulva?"},m:S,d:S}}function mt(n){return J.title=n[3],{c:S,l:S,m:S,d:S}}function _t(n){let e,t;const s=[n[4][n[0]],{levelCompletedCb:n[5]}];let l={};for(let o=0;o<s.length;o+=1)l=He(l,s[o]);return e=new xe({props:l}),{c(){V(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,i){O(e,o,i),t=!0},p(o,i){const u=i&49?We(s,[i&17&&De(o[4][o[0]]),i&32&&{levelCompletedCb:o[5]}]):{};e.$set(u)},i(o){t||(I(e.$$.fragment,o),t=!0)},o(o){E(e.$$.fragment,o),t=!1},d(o){U(e,o)}}}function ht(n){let e,t;return{c(){e=j("h1"),t=q(n[3]),this.h()},l(s){e=P(s,"H1",{class:!0});var l=H(e);t=G(l,n[3]),l.forEach(g),this.h()},h(){b(e,"class","svelte-160hh5a")},m(s,l){C(s,e,l),A(e,t)},p(s,l){l&8&&te(t,s[3])},i:S,o:S,d(s){s&&g(e)}}}function pe(n){let e,t;return e=new ft({}),{c(){V(e.$$.fragment)},l(s){R(e.$$.fragment,s)},m(s,l){O(e,s,l),t=!0},i(s){t||(I(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){U(e,s)}}}function gt(n){let e,t,s,l,o,i,u,c;function m(r,w){return r[1]?mt:dt}let d=m(n),k=d(n);const M=[ht,_t],_=[];function N(r,w){return r[1]?0:1}s=N(n),l=_[s]=M[s](n);let h=n[2]&&pe();return u=new it({}),{c(){k.c(),e=X(),t=T(),l.c(),o=T(),h&&h.c(),i=T(),V(u.$$.fragment)},l(r){const w=Ae('[data-svelte="svelte-1egunsy"]',J.head);k.l(w),e=X(),w.forEach(g),t=z(r),l.l(r),o=z(r),h&&h.l(r),i=z(r),R(u.$$.fragment,r)},m(r,w){k.m(J.head,null),A(J.head,e),C(r,t,w),_[s].m(r,w),C(r,o,w),h&&h.m(r,w),C(r,i,w),O(u,r,w),c=!0},p(r,[w]){d!==(d=m(r))&&(k.d(1),k=d(r),k&&(k.c(),k.m(e.parentNode,e)));let a=s;s=N(r),s===a?_[s].p(r,w):(B(),E(_[a],1,1,()=>{_[a]=null}),K(),l=_[s],l?l.p(r,w):(l=_[s]=M[s](r),l.c()),I(l,1),l.m(o.parentNode,o)),r[2]?h?w&4&&I(h,1):(h=pe(),h.c(),I(h,1),h.m(i.parentNode,i)):h&&(B(),E(h,1,1,()=>{h=null}),K())},i(r){c||(I(l),I(h),I(u.$$.fragment,r),c=!0)},o(r){E(l),E(h),E(u.$$.fragment,r),c=!1},d(r){k.d(r),g(e),r&&g(t),_[s].d(r),r&&g(o),h&&h.d(r),r&&g(i),U(u,r)}}}function vt(n,e,t){let s,l;ne(n,Ye,k=>t(7,l=k));let o=0;const i=[{backgroundImage:"images/background-1.jpg",music:"audio/background-music.mp3",vulvaFoundSound:"audio/vulva-found.wav",levelCompletedSound:"audio/new-level.wav",vulvaPositions:ie([[38.46153846153847,83.78378378378379],[92.3076923076923,29.440154440154444],[75.84427767354597,52.02702702702703],[9.00562851782364,43.91891891891892],[38.930581613508444,59.55598455598455],[57.78611632270169,29.150579150579148],[84.3558282208589,88.53838065194533],[56.39059304703476,42.16614090431125],[18.865030674846626,41.6403785488959],[14.263803680981596,94.42691903259727]])},{backgroundImage:"images/background-2.jpg",music:"audio/background-music.mp3",vulvaFoundSound:"audio/vulva-found.wav",levelCompletedSound:"audio/new-level.wav",vulvaPositions:ie([[13.847780126849896,13.361611876988336],[32.66384778012685,6.362672322375397],[70.29598308668076,22.375397667020145],[37.52642706131078,24.814422057264053],[5.9196617336152215,29.16224814422057],[74.4186046511628,97.03075291622481],[12.050739957716702,79.00318133616119],[85.41226215644821,58.21845174973489],[38.16067653276956,35.949098621421],[37.315010570824526,49.840933191940614]])},{backgroundImage:"images/background-3.jpg",music:"audio/background-music.mp3",vulvaFoundSound:"audio/vulva-found.wav",levelCompletedSound:"audio/new-level.wav",vulvaPositions:ie([[63.45454545454545,10.550458715596331],[84.95454545454545,36.972477064220186],[73.36363636363636,49.357798165137616],[51.81818181818182,61.92660550458715],[28.363636363636363,90.36697247706422],[25.90909090909091,74.40366972477064],[6.409090909090908,20.18348623853211],[74.45454545454545,18.34862385321101],[56.63636363636364,3.9449541284403673],[51.227272727272734,5.871559633027523]])},{backgroundImage:"images/background-4.jpg",music:"audio/background-music.mp3",vulvaFoundSound:"audio/vulva-found.wav",levelCompletedSound:"audio/new-level.wav",vulvaPositions:[...new Array(10)].map(()=>[Math.random()*90+5,Math.random()*90+5])}];let u=!0,c=3;le(async()=>{const k=["images/background-1.jpg","images/background-2.jpg","images/background-3.jpg","images/background-4.jpg","audio/background-music.mp3","audio/vulva-found.wav","audio/new-level.wav","images/vulva-sprite-sheet.png"],M=setInterval(()=>t(6,c++,c),250);await et(k),t(1,u=!1),clearInterval(M),l&&(onpointerdown=()=>document.body.requestFullscreen()),re(`level-start-${o}`)});let m=!1;function d(){re(`level-complete-${o}`),o+1===i.length?t(2,m=!0):(t(0,o++,o),re(`level-start-${o}`))}return n.$$.update=()=>{n.$$.dirty&64&&t(3,s=`lade${".".repeat(c%4)}`)},[o,u,m,s,i,d,c]}class bt extends F{constructor(e){super(),L(this,e,vt,gt,D,{})}}export{bt as default};
